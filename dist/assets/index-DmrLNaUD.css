:root{--bg: #F7F8FA;--card: #fff;--muted: #6b7280;--accent: #02008A;--navbar-height: 65px;--input-height: 72px;--available-height: calc(100vh - var(--navbar-height) - var(--input-height) - 40px);--mills-gap: 12px;--page-max: 1800px;--diagram-inner-max: 1600px;--sidebar-width: 160px;--sidebar-offset: 8px;--bunker-top-line-distance: 30px;--bunker-arrow-height: 90px;--line-left-offset: 4%;--line-right-offset: 6.2%;--arrow-width: 2px;--arrow-head-size: 10px;--add-coal-translate-y: -40%;--bunker-outline-color: #000;--bunker-outline-width: 3px}*,*:before,*:after{box-sizing:border-box}html,body{height:100%;margin:0;background:var(--bg);color:#111;-webkit-font-smoothing:antialiased;-moz-osx-font-smoothing:grayscale;font-family:Inter,system-ui,Arial,Helvetica,sans-serif;overflow:hidden}#loader,#downloadPDF,.summary-table,#summaryHidden{display:none!important}.navbar{width:100%;background-color:#f7f8fa;display:flex;justify-content:space-between;align-items:center;padding:12px 20px;position:fixed;top:0;left:0;height:var(--navbar-height);z-index:1100;box-shadow:0 4px 8px #0000000f}.navbar h1{margin:0 12px;font-size:20px;color:#000;font-weight:700}.nav-buttons{display:flex;gap:10px;align-items:center;margin-right:8px}.navbar button{padding:10px 15px;background:var(--accent);color:#fff;border:none;border-radius:6px;cursor:pointer;font-weight:700}.navbar button:hover{background:#001cbb}.input-section{position:relative;margin:calc(var(--navbar-height) + 8px) auto 8px;z-index:1000;padding:8px 12px;background:var(--accent);border-radius:8px;box-shadow:0 6px 22px #0208170f;display:flex;gap:10px;align-items:center;width:fit-content;min-width:96px;max-width:100%;font-size:13px;min-height:var(--input-height)}.input-section label{font-size:12px;font-weight:600;color:#fff;white-space:nowrap;margin:0}.input-section .input-box{padding:6px 8px;border-radius:6px;border:1px solid #d6d6d6;background:#fff;width:112px;height:34px;font-size:13px;box-sizing:border-box}#saveBtn{background:#ef4444;color:#fff;padding:8px 12px;border-radius:8px;border:none;cursor:pointer}.side-bar{position:fixed;left:0;top:calc(var(--navbar-height) + 12px);width:var(--sidebar-width);min-width:140px;padding:14px;display:flex;flex-direction:column;gap:12px;align-items:stretch;border-radius:0 12px 12px 0;background:linear-gradient(180deg,#02008a,#02115a);box-shadow:0 8px 24px #0206170f;z-index:1250;pointer-events:auto;height:calc(100vh - calc(var(--navbar-height) + 24px))}.side-bar .unit-btn{width:100%;height:44px;display:inline-flex;align-items:center;justify-content:center;padding:8px 6px;border-radius:10px;background:#fff;color:#02008a;font-weight:800;font-size:13px;cursor:pointer;box-shadow:0 6px 14px #0206170a;border:none}.side-bar .unit-btn.active{background:linear-gradient(180deg,#0ea5a4,#057d74);color:#fff;transform:translateY(-2px)}@media (max-width: 980px){.side-bar{display:none}}.main-container{max-width:var(--page-max);margin:0 auto;padding:0 12px;box-sizing:border-box;width:calc(100% - calc(var(--sidebar-width) + var(--sidebar-offset)));position:relative;display:flex;justify-content:center;align-items:flex-start;gap:12px;overflow:visible;margin-left:calc(var(--sidebar-width) + var(--sidebar-offset))}.mills-grid{display:grid;grid-template-columns:150px repeat(8,1fr);gap:var(--mills-gap);align-items:start;padding:6px 12px 12px;width:100%;box-sizing:border-box;max-height:calc(100vh - var(--navbar-height) - var(--input-height) - 24px);overflow:auto;-webkit-overflow-scrolling:touch}.mills-grid::-webkit-scrollbar{width:9px;height:9px}.mills-grid::-webkit-scrollbar-thumb{background:#0000001f;border-radius:8px}.mills-grid .dropdown,.mills-grid .percentage-input,.mills-grid .gcv,.mills-grid .cost-head,.mills-grid .gcv-box,.mills-grid .cost-input,.mills-grid .aft-head,.mills-grid .aft,.mills-grid .next-blend-box,.mills-grid .mill.green,.mills-grid .mill[readonly]{display:none!important}.mills-grid>.mill{display:none!important}.mills-grid>.mill.coal-flow{display:flex!important;padding-left:6px}.mills-grid>.mill:has(.flow-input),.mills-grid>.mill:has(.timer-input),.mills-grid>.mill:has(.total-input){display:flex!important;align-items:center;justify-content:flex-start;padding:4px 6px!important}.mills-grid>.mill:has([data-mill="0"]){grid-column:2}.mills-grid>.mill:has([data-mill="1"]){grid-column:3}.mills-grid>.mill:has([data-mill="2"]){grid-column:4}.mills-grid>.mill:has([data-mill="3"]){grid-column:5}.mills-grid>.mill:has([data-mill="4"]){grid-column:6}.mills-grid>.mill:has([data-mill="5"]){grid-column:7}.mills-grid>.mill:has([data-mill="6"]){grid-column:8}.mills-grid>.mill:has([data-mill="7"]){grid-column:9}.flow-input,.timer-input,.next-blend-box,.total-input{width:100%;max-width:none;min-width:56px;padding:6px;height:34px;border-radius:8px;border:1px solid #e6e6e6;font-size:14px;text-align:center;background:#fff;box-sizing:border-box}.diagram-in-grid{grid-column:2 / span 8;justify-self:center;align-self:start;width:100%;padding:8px;box-sizing:border-box}.diagram-in-grid .layout{background:var(--card);border-radius:12px;padding:14px;box-shadow:0 8px 30px #0208170f;position:relative;overflow:visible;max-width:var(--diagram-inner-max);width:100%;margin:0 auto;min-height:180px;height:min(640px,calc(var(--available-height) * .62))}.bunkers-grid{display:grid;grid-template-columns:repeat(8,1fr);gap:18px;align-items:end;padding:10px;width:100%;box-sizing:border-box}.bunker{position:relative;display:flex;flex-direction:column;align-items:center;justify-content:flex-end;height:clamp(100px,calc(var(--available-height) * .44),420px)}.bunker svg{width:80%;height:auto;max-height:380px;display:block}.bunker .label{position:absolute;bottom:-18px;left:50%;transform:translate(-50%);font-size:12px;background:#fffffff2;padding:6px 10px;border-radius:10px;box-shadow:0 2px 8px #0000000f;white-space:nowrap}.top-overlay{position:absolute;top:0;right:0;bottom:0;left:0;pointer-events:none;z-index:1200}.top-overlay .add-coal-overlay{position:absolute;pointer-events:auto;display:inline-flex;align-items:center;justify-content:center;width:44px;height:44px;border-radius:50%;border:none;font-size:22px;background:#0ea5a4;color:#fff;box-shadow:0 6px 18px #02061724;transform:translate(-50%,var(--add-coal-translate-y));cursor:pointer;z-index:1300}.bunker .add-coal-btn{display:none!important}.popup{position:fixed;top:0;right:0;bottom:0;left:0;display:flex;align-items:center;justify-content:center;background:#00000059;z-index:1500}.popup.hidden{display:none}.popup-content{background:#fff;padding:18px;border-radius:12px;width:420px;box-shadow:0 10px 40px #0206172e}.popup-content h3{margin:0 0 10px;font-size:18px}.popup-row{display:flex;gap:12px;margin:10px 0;align-items:center}.popup-row label{min-width:90px;font-size:14px;color:#444}.popup-row select,.popup-row input{flex:1;padding:10px;border-radius:8px;border:1px solid #e6e6e6;font-size:15px}.popup-actions{display:flex;gap:10px;justify-content:flex-end;margin-top:14px}.btn{padding:10px 14px;border-radius:8px;border:none;cursor:pointer;font-size:14px}.btn-save{background:#0ea5a4;color:#fff}.btn-cancel{background:#f3f4f6}.btn-clear{background:#ef4444;color:#fff}.bunker .tooltip{display:none;position:absolute;bottom:100%;left:50%;transform:translate(-50%);background:#000000d9;color:#fff;padding:8px 12px;border-radius:8px;font-size:13px;pointer-events:none}.bunker:hover .tooltip{display:block}.top-line{position:absolute;top:var(--bunker-top-line-distance);left:var(--line-left-offset);right:var(--line-right-offset);height:0;background:transparent;border-top:2px solid var(--bunker-outline-color);z-index:1100}.arrow{position:absolute;width:var(--arrow-width);background:#000;top:var(--bunker-top-line-distance);height:var(--bunker-arrow-height);transform-origin:top center}.arrow:after{content:"";position:absolute;left:calc(50% - 7px);top:100%;border-left:7px solid transparent;border-right:7px solid transparent;border-top:var(--arrow-head-size) solid #000}.bunker svg path,.bunker svg polygon,.bunker svg polyline,.bunker svg line{fill:none!important;stroke:var(--bunker-outline-color)!important;stroke-width:var(--bunker-outline-width)!important;stroke-linejoin:round!important;stroke-linecap:round!important;vector-effect:non-scaling-stroke!important}.bunker svg rect,.bunker svg circle,.bunker svg ellipse{stroke:none!important}.bunker svg .keep-fill{fill:currentColor!important;stroke:none!important}.diagram-and-mills{display:grid;grid-template-columns:150px repeat(8,1fr);gap:12px;align-items:start;width:100%;box-sizing:border-box;padding:0 6px}@media (max-width: 1200px){:root{--diagram-inner-max: 900px;--page-max: 1100px}.main-container{padding:0 10px}.bunker svg{max-height:320px}.diagram-in-grid .layout{height:calc(var(--available-height) * .58)}}@media (max-width: 900px){:root{--page-max: 980px;--diagram-inner-max: 860px}.mills-grid{grid-template-columns:140px repeat(6,1fr);gap:10px;padding:10px}.diagram-in-grid .layout{height:calc(var(--available-height) * .5);min-height:200px}.bunkers-grid{gap:12px}.bunker svg{width:86%;max-height:260px}.top-overlay .add-coal-overlay{width:40px;height:40px;font-size:20px}}@media (max-width: 600px){.mills-grid{grid-template-columns:120px repeat(6,minmax(56px,1fr));gap:8px;padding:8px}.diagram-in-grid{grid-column:1 / -1}.diagram-in-grid .layout{max-width:100%;height:calc(var(--available-height) * .46);min-height:160px}.bunkers-grid{grid-template-columns:repeat(3,1fr);gap:10px}.bunker svg{width:90%;max-height:220px}.top-overlay .add-coal-overlay{width:36px;height:36px;font-size:18px}}@media (max-width: 420px){:root{--input-height: 88px}.mills-grid{grid-template-columns:110px repeat(6,minmax(48px,1fr));gap:6px;padding:8px}.diagram-in-grid .layout{height:calc(var(--available-height) * .38);min-height:140px}.bunker svg{max-height:160px}.input-section{flex-direction:column;width:calc(100% - 24px);margin:calc(var(--navbar-height) + 8px) 12px 8px}}html,body{overflow:hidden}@keyframes timerBlink{0%{background:#ffefef;color:#000}50%{background:red;color:#fff}to{background:#ffefef;color:#000}}.timer-warning{animation:timerBlink 1s linear infinite;border-radius:6px;padding:2px 6px;font-weight:700}:root{--sidebar-width: 120px;--sidebar-offset: 8px}.side-bar{position:fixed;left:0;top:calc(var(--navbar-height) + 12px);width:var(--sidebar-width);min-width:110px;padding:12px;display:flex;flex-direction:column;gap:10px;align-items:stretch;border-radius:0 12px 12px 0;background:linear-gradient(180deg,#02008a,#02115a);box-shadow:0 8px 24px #0206170f;z-index:1250;pointer-events:auto;height:auto;max-height:calc(100vh - calc(var(--navbar-height) + 36px));overflow:visible}.side-bar .sidebar-title{font-size:12px;color:#fff;font-weight:800;text-transform:uppercase;letter-spacing:.6px}.side-bar .footer-note{font-size:11px;color:#fffc;text-align:center}.main-container{width:calc(100% - (var(--sidebar-width) + var(--sidebar-offset)));margin-left:calc(var(--sidebar-width) + var(--sidebar-offset));transition:margin-left .16s ease}.diagram-and-mills{display:grid;grid-template-columns:130px repeat(8,1fr);gap:12px;align-items:start;width:100%;box-sizing:border-box;padding:0 6px}@media (max-width: 1100px){:root{--diagram-inner-max: 900px;--page-max: 1100px}.diagram-and-mills{grid-template-columns:110px repeat(6,1fr)}.diagram-and-mills .bunker-wrapper{grid-column:2 / span 6}.main-container{width:calc(100% - 120px);margin-left:128px}}:root{--sidebar-width: 120px;--sidebar-left-gap: 8px;--sidebar-top-offset: 36px;--left-label-width: 110px}.side-bar{position:fixed;left:0;top:calc(var(--navbar-height) + var(--sidebar-top-offset));width:var(--sidebar-width);min-width:100px;padding:12px;display:flex;flex-direction:column;gap:10px;align-items:stretch;border-radius:0 12px 12px 0;background:linear-gradient(180deg,#02008a,#02115a);box-shadow:0 8px 24px #0206170f;z-index:1250;pointer-events:auto;height:auto;max-height:calc(100vh - calc(var(--navbar-height) + 48px));overflow:visible}.side-bar .unit-btn{height:40px;font-size:13px;padding:6px;border-radius:8px}.main-container{width:calc(100% - (var(--sidebar-width) + var(--sidebar-left-gap) - 56px));margin-left:calc(var(--sidebar-width) + var(--sidebar-left-gap) - 56px);transition:margin-left .16s ease}.diagram-and-mills{display:grid;grid-template-columns:var(--left-label-width) repeat(8,1fr);gap:12px;align-items:start;width:100%;box-sizing:border-box;padding:0 6px}.diagram-and-mills .bunker-wrapper{grid-column:2 / span 8}.row-label{grid-column:1 / 2;display:flex;align-items:center;font-weight:700;color:var(--muted);padding-left:6px}.row-box{padding:6px;box-sizing:border-box;display:flex;align-items:center;justify-content:center}.row-box .flow-input,.row-box .timer-input,.row-box .total-input{width:100%;min-width:56px;height:36px;padding:6px;border-radius:8px;border:1px solid #e6e6e6;text-align:center;background:#fff;box-sizing:border-box}.diagram-and-mills .row-next-timer,.diagram-and-mills .row-total-percent{display:block}.diagram-and-mills .spacer{grid-column:1 / -1;height:8px}@media (max-width: 1100px){:root{--left-label-width: 100px}.main-container{width:calc(100% - (var(--sidebar-width) + var(--sidebar-left-gap) - 40px));margin-left:calc(var(--sidebar-width) + var(--sidebar-left-gap) - 40px)}}@media (max-width: 980px){.side-bar{display:none}.main-container{width:100%;margin-left:0;padding:0 12px}}.__bunker_anim_container{pointer-events:none;position:fixed;left:0;top:0;width:100%;height:100%;z-index:14000}.__bunker_particle{position:absolute;border-radius:50%;box-shadow:0 1px 3px #00000040;transform-origin:center center;will-change:transform,opacity}.bunker svg rect{transition:height .9s linear,y .9s linear;will-change:height,y}#submitBtn{background:#ef4444;color:#fff;padding:10px 14px;border-radius:8px;border:none;cursor:pointer;font-weight:700;margin-left:8px;height:36px;align-self:flex-end;display:inline-flex;gap:8px;align-items:center;justify-content:center;box-shadow:0 6px 18px #ef444429}#submitBtn:disabled{opacity:.6;cursor:not-allowed}@media (pointer: coarse){:root{--input-height: 76px}button,.unit-btn,.add-coal-overlay,.btn,.input-section .input-box,.flow-input,.timer-input,.total-input,.popup-row input,.popup-row select{-webkit-tap-highlight-color:rgba(0,0,0,.06);touch-action:manipulation}.flow-input,.timer-input,.total-input,.input-section .input-box,.popup-row input,.popup-row select{min-height:44px;height:44px;padding:10px;font-size:16px}.btn,.navbar button,.unit-btn{min-height:44px;height:44px;padding:10px 14px;font-size:15px}}@media (max-width: 980px){html,body{overflow:auto;touch-action:pan-y}.side-bar{display:none!important}.main-container{margin-left:0!important;width:100%!important;padding:12px!important}.input-section{width:100%;max-width:100%;padding:10px;gap:8px;flex-wrap:wrap;align-items:stretch}.input-section label{white-space:normal;flex-basis:100%;font-size:14px}.input-section .input-box{flex:1 1 160px;width:100%}.popup-content{width:calc(100% - 32px);margin:0 16px}.mills-grid{overflow-x:auto;-webkit-overflow-scrolling:touch;grid-auto-flow:column;grid-auto-columns:minmax(96px,1fr)}.diagram-and-mills{grid-template-columns:100px repeat(6,1fr);gap:8px}.diagram-in-grid{grid-column:1 / -1;width:100%;padding:8px 6px}.diagram-in-grid .layout{padding:12px;box-shadow:0 8px 20px #0206170f}.bunkers-grid{grid-template-columns:repeat(2,1fr);gap:12px;align-items:center}.top-overlay .add-coal-overlay{width:48px;height:48px;font-size:22px}.bunker .label{font-size:13px;padding:6px 8px;bottom:-16px}.row-box .flow-input,.row-box .timer-input,.row-box .total-input{width:100%;min-width:80px;font-size:15px}.popup-actions{flex-direction:row-reverse;flex-wrap:wrap;gap:8px}}@media (max-width: 420px){:root{--navbar-height: 56px;--input-height: 84px;--left-label-width: 90px}.navbar h1{font-size:16px}.nav-buttons{gap:6px}.input-section{padding:8px;gap:6px}.input-section label{font-size:13px}.input-section{flex-direction:column;align-items:stretch}.diagram-in-grid .layout{height:auto;min-height:200px}.bunker svg{width:94%;max-height:140px}.bunker .label{font-size:12px;padding:6px 8px}.flow-input,.timer-input,.total-input,.input-section .input-box,.popup-row input,.popup-row select{width:100%!important;box-sizing:border-box}.popup-content{width:calc(100% - 20px);max-width:520px;padding:14px;border-radius:10px}.btn,.navbar button,.unit-btn{padding:12px;font-size:16px}}@media (min-width: 421px) and (max-width: 900px) and (orientation: landscape){.bunkers-grid{grid-template-columns:repeat(3,1fr)}.diagram-in-grid .layout{height:calc(var(--available-height) * .56)}.mills-grid{grid-template-columns:150px repeat(6,1fr)}}@media (max-width: 980px){:focus{outline:3px solid rgba(14,165,164,.18);outline-offset:2px}.timer-warning{font-size:14px;padding:4px 8px;border-radius:8px}}.compact-rows .row-box .flow-input,.compact-rows .row-box .timer-input,.compact-rows .row-box .total-input{height:36px;padding:6px;font-size:14px}@media (max-width: 1100px){.diagram-in-grid .layout{overflow-y:auto;-webkit-overflow-scrolling:touch}}.bunker{position:relative}.add-coal-overlay,.arrow-overlay{position:absolute;top:4%;right:10%;transform:translateY(0);transition:top .25s ease,transform .25s ease}@media (max-width: 980px){.add-coal-overlay,.arrow-overlay{top:8%;transform:translateY(4px);width:42px;height:42px;font-size:20px}}@media (max-width: 600px){.add-coal-overlay,.arrow-overlay{top:12%;transform:translateY(6px);right:12%;width:40px;height:40px;font-size:20px}}@media (max-width: 420px){.add-coal-overlay,.arrow-overlay{top:16%;transform:translateY(8px);right:14%;width:38px;height:38px;font-size:18px}}@media (pointer: coarse){.add-coal-overlay:active,.arrow-overlay:active{transform:translateY(10px) scale(.96);opacity:.9}}.bunker{position:relative;-webkit-transform:translateZ(0)}.add-coal-overlay,.arrow-overlay{position:absolute!important;top:4%!important;bottom:auto!important;right:8%!important;transform:translateY(0)!important;transition:top .22s ease,transform .22s ease,right .22s ease;z-index:40;pointer-events:auto}.add-coal-overlay.fixed,.arrow-overlay.fixed{position:absolute!important}@media (max-width: 1100px){.add-coal-overlay,.arrow-overlay{top:7%!important;transform:translateY(3px)!important;right:9%!important}}@media (max-width: 900px){.add-coal-overlay,.arrow-overlay{top:10%!important;transform:translateY(6px)!important;right:10%!important;width:44px;height:44px;font-size:20px}}@media (max-width: 600px){.add-coal-overlay,.arrow-overlay{top:14%!important;transform:translateY(8px)!important;right:12%!important;width:42px;height:42px;font-size:18px}}@media (max-width: 420px){.add-coal-overlay,.arrow-overlay{top:18%!important;transform:translateY(10px)!important;right:14%!important;width:40px;height:40px;font-size:17px}}.bunker.has-top-label .add-coal-overlay,.bunker.has-top-label .arrow-overlay{top:calc(6% + 10px)!important}.bunker.has-bottom-label .add-coal-overlay,.bunker.has-bottom-label .arrow-overlay{top:calc(12% + 8px)!important}@media (max-width: 980px){html,body{height:100%;overflow-x:auto;overflow-y:hidden;-webkit-overflow-scrolling:touch;touch-action:pan-x pan-y}.main-container,.app-wrapper,.dashboard-wrapper{min-width:1000px;width:auto!important}.diagram-in-grid,.mills-grid,.bunkers-grid{min-width:900px;overflow-x:auto;overflow-y:hidden;-webkit-overflow-scrolling:touch;white-space:nowrap}.bunkers-grid .bunker{display:inline-block;vertical-align:top;width:260px;margin-right:12px}}@media (max-width: 420px){html,body{overflow-x:auto;overflow-y:hidden}.main-container,.app-wrapper,.dashboard-wrapper{min-width:820px}.diagram-in-grid,.mills-grid,.bunkers-grid{min-width:720px}.bunkers-grid .bunker{width:220px;margin-right:10px}}.popup-content,.modal-content{max-height:88vh;overflow-y:auto;-webkit-overflow-scrolling:touch}body.allow-vertical{overflow-y:auto!important;overflow-x:hidden!important}@media (pointer: coarse){.add-coal-overlay,.arrow-overlay{-webkit-tap-highlight-color:rgba(0,0,0,.06);touch-action:manipulation}.add-coal-overlay:active,.arrow-overlay:active{transform:translateY(12px) scale(.98);opacity:.94}}
